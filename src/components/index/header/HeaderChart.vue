<template>
  <svg
    ref="chartContainer"
    width="144"
    height="144"
    viewBox="0 0 144 144"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M144 72C144 111.765 111.765 144 72 144C32.2355 144 0 111.765 0 72C0 32.2355 32.2355 0 72 0C111.765 0 144 32.2355 144 72ZM23.9453 72C23.9453 98.5399 45.4601 120.055 72 120.055C98.5399 120.055 120.055 98.5399 120.055 72C120.055 45.4601 98.5399 23.9453 72 23.9453C45.4601 23.9453 23.9453 45.4601 23.9453 72Z"
      fill="white"
    />
    <path
      d="M72 132.054C72 136.443 68.4306 140.048 64.0723 139.536C53.4297 138.287 43.1932 134.535 34.2212 128.54C23.0387 121.068 14.3229 110.448 9.17619 98.0225C4.02943 85.5971 2.68281 71.9246 5.3066 58.7339C7.9304 45.5431 14.4068 33.4267 23.9167 23.9167C33.4267 14.4068 45.5432 7.93039 58.7339 5.3066C71.9246 2.68281 85.5971 4.02943 98.0225 9.1762C110.448 14.323 121.068 23.0387 128.54 34.2212C134.535 43.1932 138.287 53.4298 139.536 64.0723C140.048 68.4306 136.443 72 132.054 72V72C127.666 72 124.171 68.4223 123.504 64.085C122.353 56.5916 119.574 49.4065 115.327 43.0498C109.601 34.4806 101.463 27.8016 91.9412 23.8576C82.4196 19.9136 71.9422 18.8817 61.8341 20.8923C51.7259 22.903 42.441 27.8659 35.1534 35.1534C27.8659 42.441 22.903 51.7259 20.8923 61.8341C18.8817 71.9422 19.9136 82.4196 23.8576 91.9412C27.8016 101.463 34.4806 109.601 43.0498 115.327C49.4065 119.574 56.5916 122.353 64.085 123.504C68.4223 124.171 72 127.666 72 132.054V132.054Z"
      fill="#F8FAFF"
    />
    <path
      d="M72 132.054C72 136.443 68.4307 140.048 64.0724 139.536C57.696 138.788 51.4441 137.138 45.5066 134.627C37.1241 131.081 29.5388 125.888 23.2002 119.356C16.8617 112.824 11.8989 105.086 8.6061 96.6011C5.31327 88.1159 3.75738 79.056 4.03066 69.9583C4.30393 60.8607 6.40081 51.9105 10.197 43.6382C13.9932 35.366 19.4115 27.94 26.1306 21.8004C32.8498 15.6608 40.7331 10.9326 49.3134 7.89604C55.3909 5.74518 61.7305 4.47403 68.1404 4.10962C72.5215 3.86054 75.868 7.67353 75.6046 12.0538V12.0538C75.3412 16.4341 71.5603 19.7085 67.1908 20.1135C62.9109 20.5102 58.6863 21.4358 54.6151 22.8767C48.04 25.2036 41.9989 28.8269 36.8499 33.5317C31.701 38.2365 27.549 43.9271 24.6399 50.2662C21.7308 56.6053 20.124 63.4639 19.9146 70.4355C19.7052 77.407 20.8975 84.3497 23.4208 90.852C25.9441 97.3543 29.7471 103.284 34.6044 108.289C39.4616 113.295 45.2743 117.274 51.6979 119.991C55.6753 121.674 59.8367 122.851 64.0852 123.504C68.4224 124.171 72 127.666 72 132.054V132.054Z"
      fill="#ECF2FF"
    />
    <path
      ref="headerChart"
      class="header__chart"
      d="M72 132.055C72 136.443 68.4307 140.048 64.0724 139.536C55.1878 138.494 46.5693 135.704 38.7227 131.301C28.559 125.598 20.0318 117.378 13.9594 107.43C7.88702 97.4825 4.47327 86.1411 4.04577 74.4944C3.71573 65.5029 5.17409 56.5624 8.30722 48.1835C9.84416 44.0732 14.6822 42.5463 18.5852 44.552V44.552C22.4883 46.5576 23.962 51.3373 22.5725 55.4997C20.6001 61.4083 19.6961 67.6437 19.9262 73.9115C20.2538 82.8365 22.8697 91.5275 27.5231 99.1504C32.1764 106.773 38.7109 113.072 46.4994 117.443C51.969 120.512 57.9282 122.558 64.0851 123.504C68.4224 124.171 72 127.666 72 132.055V132.055Z"
      fill="#3478F6"
    />
    <path
      d="M133 80.9999C133 79.343 131.628 77.9313 129.997 78.2189C118.879 80.1785 144.418 94.3518 132.529 82.4999C119.782 69.7936 133.057 106.502 133 88.504C132.943 70.5064 116.263 91.2644 128.929 78.4782C141.595 65.6921 113.486 84.113 131.483 83.9999C149.481 83.8868 129.834 86.9076 128.929 85.9998C141.755 98.6258 137.291 59.0031 137.461 77C137.631 94.9969 132.586 110.634 120 123.5C107.727 136.045 82.3052 145.519 64.3582 143.2C63.5708 143.099 63 142.418 63 141.624V140.851C63 140.381 63.381 140 63.8511 140V140C63.9496 140 64.0474 139.983 64.1401 139.949L64.5565 139.799C64.8508 139.693 65.1583 139.628 65.4704 139.606L65.8847 139.577C66.6209 139.526 67.3398 139.33 68 139V139L68.3675 138.816C68.7864 138.607 69.1688 138.331 69.5 138V138L70 137.5V137.5C70.3312 137.169 70.6068 136.786 70.8162 136.367L71 136V136C71.3318 135.336 71.5737 134.631 71.7192 133.904L71.8551 133.224C71.9514 132.743 72 132.252 72 131.761V131.118C72 130.383 71.8288 129.658 71.5 129V129L70.8162 127.632C70.6068 127.213 70.3312 126.831 70 126.5V126.5L69.5 126L69.3953 125.895C69.1335 125.633 68.8312 125.416 68.5 125.25V125.25C68.1688 125.084 67.8665 124.866 67.6047 124.605L67.5 124.5V124.5C67.1731 124.173 66.7618 123.943 66.312 123.837L66 123.762L65.2168 123.557C65.0726 123.519 64.9328 123.466 64.7996 123.4L64.3549 123.177C64.1277 123.064 63.9549 122.865 63.8745 122.623V122.623C63.6817 122.045 64.0711 121.436 64.677 121.368L75.5 120.159C89.2907 119.985 108.47 110.715 113.5 98.4999C117 89.9999 119 87.7617 120 85.9998C122.832 81.0092 140.531 90.1754 130.702 80.5C120.874 70.8246 142.72 78.3916 128.929 78.4782C115.137 78.5649 141.189 71.7174 131.483 81.5155C121.777 91.3136 129.62 70.3283 129.663 84.1201C129.707 97.9118 119.161 68.7413 128.929 78.4782C137.801 87.3222 122.537 84.6557 129.997 84.0922C131.649 83.9674 133 82.6567 133 80.9999V80.9999Z"
      fill="#FFFFFF"
    />
  </svg>
</template>

<script>
export default {
  name: "HeaderChart",

  mounted() {
    const observer = new IntersectionObserver(
      (entry) => {
        if (entry[0].isIntersecting) {
          this.$refs.headerChart.style.transform = "rotate(0)";
          setTimeout(() => {
            this.$refs.headerChart.style.animation =
              "chart-rotating 3s ease-in-out infinite";
          }, 3000);
          observer.unobserve(this.$refs.chartContainer);
        }
      },
      {
        threshold: 0.7,
      }
    );
    observer.observe(this.$refs.chartContainer);
  },
};
</script>

<style lang="scss">
.header__chart {
  transform: rotate(-70deg);
  transform-origin: 72px 73px;
  transition: all 3s;
}

@keyframes chart-rotating {
  0% {
    transform: rotate(0);
  }
  50% {
    transform: rotate(-45deg);
  }
  100% {
    transform: rotate(0);
  }
}
</style>