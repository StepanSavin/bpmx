<template>
  <div ref="imageContainerXs" class="xs:pl-20">
    <div class="relative w-max mx-auto">
      <LazyImage
        width="481"
        height="508"
        src="index/vision/vision-image-1.svg"
        class="vision-bg-1"
        :class="{ 'vision-invisible': !isVisible }"
      />
      <svg
        ref="imageContainer"
        overflow="visible"
        width="359"
        height="337"
        viewBox="0 0 359 337"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="absolute vision__svg-icons"
      >
        <g class="vision-icon-1" :class="{ 'vision-invisible': !isVisible }">
          <rect x="46" y="9" width="80" height="80" rx="40" fill="#3478F6" />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M73.3333 49.0002C73.3333 42.0046 79.0044 36.3335 86 36.3335C92.9956 36.3335 98.6667 42.0046 98.6667 49.0002C98.6667 55.9958 92.9956 61.6668 86 61.6668C79.0044 61.6668 73.3333 55.9958 73.3333 49.0002ZM89.8974 41.6925C86.9378 41.6925 84.5385 44.0918 84.5385 47.0514C84.5385 50.0111 86.9378 52.4104 89.8974 52.4104C92.8571 52.4104 95.2564 50.0111 95.2564 47.0514C95.2564 44.0918 92.8571 41.6925 89.8974 41.6925ZM76.7436 53.872C76.7436 52.5266 77.8342 51.4361 79.1795 51.4361C80.5248 51.4361 81.6154 52.5266 81.6154 53.872C81.6154 55.2173 80.5248 56.3079 79.1795 56.3079C77.8342 56.3079 76.7436 55.2173 76.7436 53.872Z"
            fill="white"
          />
          <rect
            x="46"
            y="9"
            width="80"
            height="80"
            rx="40"
            stroke="white"
            stroke-width="16"
          />
        </g>
        <g class="vision-icon-4" :class="{ 'vision-invisible': !isVisible }">
          <rect x="8" y="157" width="80" height="80" rx="40" fill="#3478F6" />
          <path
            d="M45 198.333C45 196.676 46.3431 195.333 48 195.333C49.6569 195.333 51 196.676 51 198.333C51 199.99 49.6569 201.333 48 201.333C46.3431 201.333 45 199.99 45 198.333Z"
            fill="white"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M41.9649 191.19C41.9649 188.876 43.8408 187 46.1548 187H49.8451C52.1592 187 54.0351 188.876 54.0351 191.19C54.0351 191.21 54.0502 191.226 54.07 191.228L57.0428 191.469C58.3744 191.577 59.4696 192.562 59.7181 193.875C60.3523 197.225 60.3996 200.659 59.8579 204.025L59.7282 204.831C59.4838 206.349 58.234 207.504 56.7009 207.629L54.1111 207.839C50.0437 208.17 45.9562 208.17 41.8888 207.839L39.299 207.629C37.766 207.504 36.5162 206.349 36.2717 204.831L36.1421 204.025C35.6003 200.659 35.6476 197.225 36.2818 193.875C36.5304 192.562 37.6255 191.577 38.9572 191.469L41.93 191.228C41.9497 191.226 41.9649 191.21 41.9649 191.19ZM48 193.333C45.2386 193.333 43 195.572 43 198.333C43 201.095 45.2386 203.333 48 203.333C50.7614 203.333 53 201.095 53 198.333C53 195.572 50.7614 193.333 48 193.333Z"
            fill="white"
          />
          <rect
            x="8"
            y="157"
            width="80"
            height="80"
            rx="40"
            stroke="white"
            stroke-width="16"
          />
        </g>
        <g class="vision-icon-2" :class="{ 'vision-invisible': !isVisible }">
          <rect x="271" y="8" width="80" height="80" rx="40" fill="#3478F6" />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M311 47.5326C310.08 47.5326 309.333 48.2788 309.333 49.1993C309.333 50.1198 310.08 50.866 311 50.866C311.92 50.866 312.667 50.1198 312.667 49.1993C312.667 48.2788 311.92 47.5326 311 47.5326ZM307.333 49.1993C307.333 47.1743 308.975 45.5326 311 45.5326C313.025 45.5326 314.667 47.1743 314.667 49.1993C314.667 51.2243 313.025 52.866 311 52.866C308.975 52.866 307.333 51.2243 307.333 49.1993Z"
            fill="white"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M311 42.1993C309.616 42.1993 308.262 42.6098 307.111 43.379C305.96 44.1482 305.063 45.2414 304.533 46.5205C304.003 47.7996 303.864 49.2071 304.135 50.5649C304.405 51.9228 305.071 53.1701 306.05 54.149C306.441 54.5396 306.441 55.1727 306.05 55.5633C305.66 55.9538 305.027 55.9538 304.636 55.5633C303.377 54.3046 302.52 52.7009 302.173 50.9551C301.826 49.2093 302.004 47.3997 302.685 45.7552C303.366 44.1106 304.52 42.705 306 41.7161C307.48 40.7271 309.22 40.1993 311 40.1993C312.78 40.1993 314.52 40.7271 316 41.7161C317.48 42.705 318.634 44.1106 319.315 45.7552C319.996 47.3997 320.174 49.2093 319.827 50.9551C319.48 52.7009 318.623 54.3046 317.364 55.5633C316.973 55.9538 316.34 55.9538 315.95 55.5633C315.559 55.1727 315.559 54.5396 315.95 54.149C316.929 53.1701 317.595 51.9228 317.865 50.5649C318.136 49.2071 317.997 47.7996 317.467 46.5205C316.937 45.2414 316.04 44.1482 314.889 43.379C313.738 42.6098 312.384 42.1993 311 42.1993Z"
            fill="white"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M311 37C308.587 37 306.229 37.7155 304.223 39.056C302.216 40.3964 300.653 42.3017 299.729 44.5308C298.806 46.76 298.564 49.2129 299.035 51.5793C299.506 53.9457 300.668 56.1194 302.374 57.8255C302.764 58.2161 302.764 58.8492 302.374 59.2398C301.983 59.6303 301.35 59.6303 300.96 59.2398C298.974 57.2539 297.622 54.7239 297.074 51.9695C296.526 49.2151 296.807 46.3601 297.882 43.7655C298.956 41.1709 300.776 38.9533 303.111 37.393C305.446 35.8328 308.192 35 311 35C313.808 35 316.554 35.8328 318.889 37.393C321.224 38.9533 323.044 41.1709 324.119 43.7655C325.193 46.3601 325.474 49.2151 324.927 51.9695C324.379 54.7239 323.026 57.2539 321.041 59.2398C320.65 59.6303 320.017 59.6303 319.626 59.2398C319.236 58.8492 319.236 58.2161 319.626 57.8255C321.332 56.1194 322.494 53.9457 322.965 51.5793C323.436 49.2129 323.194 46.76 322.271 44.5308C321.347 42.3017 319.784 40.3964 317.778 39.056C315.772 37.7155 313.413 37 311 37Z"
            fill="white"
          />
          <rect
            x="271"
            y="8"
            width="80"
            height="80"
            rx="40"
            stroke="white"
            stroke-width="16"
          />
        </g>
        <g class="vision-icon-3" :class="{ 'vision-invisible': !isVisible }">
          <rect x="151" y="72" width="80" height="80" rx="32" fill="white" />
          <rect x="167" y="88" width="48" height="48" rx="16" fill="#3478F6" />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M194.18 101L197.817 104.667L194.18 108.333L190.544 112L186.908 108.333L179.636 115.667L176 112L186.908 101L190.544 104.667L194.18 101ZM190.544 112L194.181 115.667L197.817 112L201.453 108.333L205.089 112L201.453 115.667L194.181 123L190.544 119.333L186.908 123L183.272 119.333L190.544 112Z"
            fill="white"
          />
        </g>
        <path
          class="vision-arrow"
          :class="{ 'vision-invisible': !isVisible }"
          d="M235 111C234.448 111 234 111.448 234 112C234 112.552 234.448 113 235 113V111ZM205.293 288.293C204.902 288.683 204.902 289.317 205.293 289.707L211.657 296.071C212.047 296.462 212.681 296.462 213.071 296.071C213.462 295.681 213.462 295.047 213.071 294.657L207.414 289L213.071 283.343C213.462 282.953 213.462 282.319 213.071 281.929C212.681 281.538 212.047 281.538 211.657 281.929L205.293 288.293ZM235 113H239V111H235V113ZM262 136V215.5H264V136H262ZM233 244.5V265H235V244.5H233ZM210 288H206V290H210V288ZM233 265C233 277.703 222.703 288 210 288V290C223.807 290 235 278.807 235 265H233ZM248.5 229C239.94 229 233 235.94 233 244.5H235C235 237.044 241.044 231 248.5 231V229ZM262 215.5C262 222.956 255.956 229 248.5 229V231C257.06 231 264 224.06 264 215.5H262ZM239 113C251.703 113 262 123.297 262 136H264C264 122.193 252.807 111 239 111V113Z"
          fill="#3478F6"
        />
        <path
          class="vision-arrow"
          :class="{ 'vision-invisible': !isVisible }"
          d="M137.293 48.2929C136.902 48.6834 136.902 49.3166 137.293 49.7071L143.657 56.0711C144.047 56.4616 144.681 56.4616 145.071 56.0711C145.462 55.6805 145.462 55.0474 145.071 54.6569L139.414 49L145.071 43.3431C145.462 42.9526 145.462 42.3195 145.071 41.9289C144.681 41.5384 144.047 41.5384 143.657 41.9289L137.293 48.2929ZM172 48H138V50H172V48ZM192 68C192 56.9543 183.046 48 172 48V50C181.941 50 190 58.0589 190 68H192Z"
          fill="#3478F6"
        />
        <path
          class="vision-arrow"
          :class="{ 'vision-invisible': !isVisible }"
          d="M259.707 48.7071C260.098 48.3166 260.098 47.6834 259.707 47.2929L253.343 40.9289C252.953 40.5384 252.319 40.5384 251.929 40.9289C251.538 41.3195 251.538 41.9526 251.929 42.3431L257.586 48L251.929 53.6569C251.538 54.0474 251.538 54.6805 251.929 55.0711C252.319 55.4616 252.953 55.4616 253.343 55.0711L259.707 48.7071ZM211 49H259V47H211V49ZM192 68C192 57.5066 200.507 49 211 49V47C199.402 47 190 56.402 190 68H192Z"
          fill="#3478F6"
        />
        <path
          class="vision-arrow"
          :class="{ 'vision-invisible': !isVisible }"
          d="M99.2929 196.293C98.9024 196.683 98.9024 197.317 99.2929 197.707L105.657 204.071C106.047 204.462 106.681 204.462 107.071 204.071C107.462 203.681 107.462 203.047 107.071 202.657L101.414 197L107.071 191.343C107.462 190.953 107.462 190.319 107.071 189.929C106.681 189.538 106.047 189.538 105.657 189.929L99.2929 196.293ZM128 130V173H130V130H128ZM105 196H100V198H105V196ZM128 173C128 185.703 117.703 196 105 196V198C118.807 198 130 186.807 130 173H128ZM147 111C136.507 111 128 119.507 128 130H130C130 120.611 137.611 113 147 113V111Z"
          fill="#3478F6"
        />
        <g class="vision-icon-5" :class="{ 'vision-invisible': !isVisible }">
          <rect x="114" y="249" width="80" height="80" rx="40" fill="#3478F6" />
          <path
            d="M138 298.375C138 296.814 138 296.034 138.485 295.549C138.97 295.064 139.75 295.064 141.31 295.064H150.94C152.5 295.064 153.28 295.064 153.765 295.549C154.25 296.034 154.25 296.814 154.25 298.375V298.375C154.25 299.935 154.25 300.715 153.765 301.2C153.28 301.685 152.5 301.685 150.94 301.685H141.31C139.75 301.685 138.97 301.685 138.485 301.2C138 300.715 138 299.935 138 298.375V298.375Z"
            fill="white"
          />
          <path
            d="M148.511 290.139C147.478 289.543 146.961 289.244 146.74 288.778C146.654 288.597 146.602 288.402 146.586 288.203C146.544 287.689 146.842 287.172 147.439 286.138L150.335 281.123C150.932 280.089 151.23 279.572 151.696 279.351C151.877 279.265 152.072 279.213 152.271 279.197C152.786 279.155 153.303 279.453 154.336 280.05V280.05C155.37 280.647 155.887 280.946 156.108 281.412C156.194 281.593 156.246 281.787 156.262 281.987C156.304 282.501 156.005 283.018 155.408 284.052L152.513 289.067C151.916 290.101 151.618 290.618 151.151 290.839C150.97 290.925 150.776 290.977 150.576 290.993C150.062 291.035 149.545 290.736 148.511 290.139V290.139Z"
            fill="white"
          />
          <path
            d="M159.476 278.492C160.073 277.459 160.371 276.942 160.838 276.721C161.018 276.635 161.213 276.583 161.412 276.567C161.927 276.525 162.444 276.823 163.478 277.42L165.522 278.6C166.555 279.197 167.072 279.496 167.293 279.962C167.379 280.143 167.431 280.337 167.447 280.537C167.489 281.051 167.191 281.568 166.594 282.602V282.602C165.997 283.636 165.698 284.153 165.232 284.374C165.051 284.459 164.857 284.511 164.657 284.528C164.143 284.569 163.626 284.271 162.592 283.674L160.548 282.494C159.514 281.897 158.998 281.599 158.777 281.132C158.691 280.952 158.639 280.757 158.623 280.558C158.581 280.043 158.879 279.526 159.476 278.492V278.492Z"
            fill="white"
          />
          <path
            d="M168.733 284.934C169.118 285.156 169.25 285.648 169.028 286.033L168.233 287.41C168.01 287.795 167.519 287.926 167.134 287.704V287.704C166.749 287.482 166.617 286.99 166.839 286.606L167.635 285.229C167.857 284.844 168.349 284.712 168.733 284.934V284.934Z"
            fill="white"
          />
          <path
            d="M168.387 286.257C168.609 286.642 168.477 287.134 168.093 287.356L164.327 289.53C163.942 289.752 163.45 289.62 163.228 289.236V289.236C163.006 288.851 163.138 288.359 163.523 288.137L167.288 285.963C167.673 285.741 168.165 285.872 168.387 286.257V286.257Z"
            fill="white"
          />
          <path
            d="M167.566 286.337C168.023 286.337 168.393 286.708 168.393 287.165L168.393 290.776C168.393 291.233 168.023 291.604 167.566 291.604V291.604C167.108 291.604 166.738 291.233 166.738 290.776L166.738 287.165C166.738 286.708 167.108 286.337 167.566 286.337V286.337Z"
            fill="white"
          />
          <path
            d="M150.187 295.065C150.187 297.309 148.369 299.127 146.125 299.127C143.881 299.127 142.062 297.309 142.062 295.065C142.062 292.821 143.881 291.002 146.125 291.002C148.369 291.002 150.187 292.821 150.187 295.065Z"
            fill="white"
          />
          <path
            d="M158.764 276.708C158.764 278.204 157.551 279.417 156.055 279.417C154.56 279.417 153.347 278.204 153.347 276.708C153.347 275.213 154.56 274 156.055 274C157.551 274 158.764 275.213 158.764 276.708Z"
            fill="white"
          />
          <path
            d="M170.951 284.457C170.951 285.496 170.109 286.338 169.07 286.338C168.031 286.338 167.189 285.496 167.189 284.457C167.189 283.418 168.031 282.576 169.07 282.576C170.109 282.576 170.951 283.418 170.951 284.457Z"
            fill="white"
          />
          <rect
            x="114"
            y="249"
            width="80"
            height="80"
            rx="40"
            stroke="white"
            stroke-width="16"
          />
        </g>
      </svg>
    </div>
  </div>
</template>

<script>
export default {
  name: "ImageOne",
  data() {
    return {
      isVisible: false,
    };
  },
  mounted() {
    const observer = new IntersectionObserver(
      (entry) => {
        if (entry[0].isIntersecting) {
          this.isVisible = true;
          observer.unobserve(this.$refs.imageContainer);
        }
      },
      {
        threshold: 0.7,
      }
    );
    observer.observe(this.$refs.imageContainer);
    const observerXs = new IntersectionObserver(
      (entry) => {
        if (entry[0].isIntersecting) {
          this.isVisible = true;
          observer.unobserve(this.$refs.imageContainer);
        }
      },
      {
        threshold: 0.7,
      }
    );
    observerXs.observe(this.$refs.imageContainerXs);
  },
};
</script>

<style lang="scss">
.vision {
  &__svg-icons {
    left: -57px;
    top: 26px;
  }
}
.vision-invisible.vision {
  &-icon-1,
  &-icon-2,
  &-icon-3,
  &-icon-4,
  &-icon-5 {
    transform: translateY(-250px);
    opacity: 0;
  }
  &-arrow {
    opacity: 0;
  }
  &-bg-1 {
    transform: translateX(70px);
    opacity: 0;
  }
}
.vision {
  &-bg-1 {
    transition: all 0.8s ease;
    max-width: unset;
  }
  &-icon-1,
  &-icon-2,
  &-icon-3,
  &-icon-4,
  &-icon-5 {
    transition: all 0.7s cubic-bezier(0.17, 0.67, 0.15, 1.28);
  }
  &-icon-1 {
    transition-delay: 400ms;
  }
  &-icon-2 {
    transition-delay: 550ms;
  }
  &-icon-3 {
    transition-delay: 250ms;
  }
  &-icon-4 {
    transition-delay: 700ms;
  }
  &-icon-5 {
    transition-delay: 850ms;
  }
  &-arrow {
    transition: all 0.9s;
    transition-delay: 1.4s;
  }
}
</style>